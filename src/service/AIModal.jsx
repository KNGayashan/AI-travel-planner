import { GoogleGenerativeAI } from "@google/generative-ai";
 
   
   const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
   const genAI = new GoogleGenerativeAI(apiKey);
   
   const model = genAI.getGenerativeModel({
     model: "gemini-2.0-flash-exp",
     systemInstruction: "\nGenerate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget , Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinery with placeName, place details,  place image url, geo coordinates, ticket pricing, rating, time, travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n",
   });
   
   const generationConfig = {
     temperature: 1,
     topP: 0.95,
     topK: 40,
     maxOutputTokens: 8192,
     responseMimeType: "application/json",
   };
   

     export const chatSession = model.startChat({
       generationConfig,
       history: [
         {
           role: "user",
           parts: [
             {text: "Generate Travel Plan for Location : Las Vegas, for 3 Days for Couple with a Cheap budget , Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinery with placeName, place details,  place image url, geo coordinates, ticket pricing, rating, time, travel each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
           ],
         },
         {
           role: "model",
           parts: [
             {text: "```json\n{\n  \"trip_details\": {\n    \"location\": \"Las Vegas\",\n    \"duration\": \"3 Days\",\n    \"travelers\": \"Couple\",\n    \"budget\": \"Cheap\"\n  },\n  \"hotel_options\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotel_address\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $100 per night\",\n      \"hotel_image_url\": \"https://example.com/circus_circus.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1391,\n        \"longitude\": -115.1698\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Las Vegas hotel with a circus theme, offering affordable rooms and a variety of entertainment options.\"\n    },\n     {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotel_address\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $120 per night\",\n       \"hotel_image_url\": \"https://example.com/excalibur.jpg\",\n      \"geo_coordinates\": {\n         \"latitude\": 36.0985,\n         \"longitude\": -115.1748\n      },\n      \"rating\": 3.8,\n      \"description\": \"A medieval-themed hotel with budget-friendly rooms and a lively atmosphere.\"\n     },\n      {\n      \"hotelName\": \"OYO Hotel & Casino Las Vegas\",\n      \"hotel_address\": \"115 E Tropicana Ave, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $90 per night\",\n       \"hotel_image_url\": \"https://example.com/oyo.jpg\",\n      \"geo_coordinates\": {\n        \"latitude\": 36.1017,\n        \"longitude\": -115.1680\n      },\n        \"rating\": 3.2,\n        \"description\": \"A budget-friendly hotel located close to the Strip with basic amenities.\"\n      }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n      \"best_time_to_visit\": \"Late afternoon/Evening\",\n       \"places\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"place_details\": \"A beautiful indoor garden display that changes seasonally.  Free admission.\",\n           \"place_image_url\": \"https://example.com/bellagio_garden.jpg\",\n          \"geo_coordinates\": {\n              \"latitude\": 36.1127,\n              \"longitude\": -115.1744\n          },\n          \"ticket_pricing\": \"Free\",\n          \"rating\": 4.7,\n           \"time\": \"1 hour\",\n          \"travel\": \"Walk from your hotel (if on the Strip) or short bus ride.\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n           \"place_details\": \"A spectacular water show with music and light, runs every 30 minutes. Free.\",\n          \"place_image_url\": \"https://example.com/bellagio_fountains.jpg\",\n          \"geo_coordinates\": {\n             \"latitude\": 36.1127,\n             \"longitude\": -115.1739\n          },\n          \"ticket_pricing\": \"Free\",\n           \"rating\": 4.8,\n            \"time\": \"30 mins\",\n           \"travel\": \"Adjacent to the Bellagio Garden.\"\n\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"place_details\":\"An outdoor shopping, dining, and entertainment area with free street performers and live music. Explore shops and enjoy the atmosphere.\",\n          \"place_image_url\": \"https://example.com/linq_promenade.jpg\",\n           \"geo_coordinates\": {\n               \"latitude\": 36.1169,\n               \"longitude\": -115.1701\n            },\n          \"ticket_pricing\":\"Free (activities and food at additional cost)\",\n          \"rating\":4.5,\n          \"time\":\"2 hours\",\n           \"travel\": \"Walk north on the Strip.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n        \"best_time_to_visit\": \"Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"place_details\": \"A pedestrian mall with a massive video canopy, light shows, and street performers. Free to walk around.\",\n          \"place_image_url\": \"https://example.com/fremont_street.jpg\",\n          \"geo_coordinates\": {\n            \"latitude\": 36.1702,\n             \"longitude\": -115.1403\n          },\n          \"ticket_pricing\": \"Free (attractions and food at additional cost)\",\n          \"rating\": 4.6,\n          \"time\": \"3 hours\",\n          \"travel\":\"Bus or taxi ride from the Strip (approx. 15-20 mins).\"\n        },\n        {\n          \"placeName\": \"Container Park\",\n           \"place_details\": \"A unique outdoor shopping and entertainment space made from shipping containers. Explore, take photos, and enjoy the vibe.\",\n           \"place_image_url\": \"https://example.com/container_park.jpg\",\n           \"geo_coordinates\": {\n             \"latitude\": 36.1692,\n             \"longitude\": -115.1395\n           },\n           \"ticket_pricing\": \"Free (food and activities at additional cost)\",\n          \"rating\": 4.4,\n           \"time\":\"1.5 hours\",\n           \"travel\": \"Walking distance from Fremont Street.\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Relaxation & Budget-Friendly Activities\",\n         \"best_time_to_visit\": \"Morning/Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area (Scenic Drive)\",\n           \"place_details\": \"A beautiful natural area with red rock formations. Take the scenic loop drive. Entrance fees apply per vehicle, consider carpooling to save cost.\",\n          \"place_image_url\": \"https://example.com/red_rock_canyon.jpg\",\n          \"geo_coordinates\": {\n              \"latitude\": 36.1200,\n              \"longitude\": -115.4000\n          },\n          \"ticket_pricing\": \"$15 per vehicle\",\n          \"rating\": 4.7,\n           \"time\":\"3-4 hours\",\n           \"travel\": \"Car or ride-sharing service (approx. 30 mins from the Strip).\"\n         },\n        {\n          \"placeName\": \"Free Pool Time\",\n            \"place_details\":\"Enjoy some free pool time and relax. Some hotels offer free access to their pools, choose one near your hotel.\",\n             \"place_image_url\": \"https://example.com/hotel_pool.jpg\",\n            \"geo_coordinates\": {\n              \"latitude\": \"Variable\",\n               \"longitude\": \"Variable\"\n            },\n            \"ticket_pricing\":\"Free\",\n             \"rating\": 4.2,\n            \"time\":\"2-3 hours\",\n            \"travel\":\"Varies based on pool location.\"\n\n        }\n       ]\n    }\n  }\n}\n```"},
           ],
         },
       ],
     });
   
